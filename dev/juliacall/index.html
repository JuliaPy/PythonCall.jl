<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Guide · PythonCall &amp; JuliaCall</title><meta name="title" content="Guide · PythonCall &amp; JuliaCall"/><meta property="og:title" content="Guide · PythonCall &amp; JuliaCall"/><meta property="twitter:title" content="Guide · PythonCall &amp; JuliaCall"/><meta name="description" content="Documentation for PythonCall &amp; JuliaCall."/><meta property="og:description" content="Documentation for PythonCall &amp; JuliaCall."/><meta property="twitter:description" content="Documentation for PythonCall &amp; JuliaCall."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="PythonCall &amp; JuliaCall logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">PythonCall &amp; JuliaCall</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">The Julia module PythonCall</span><ul><li><a class="tocitem" href="../pythoncall/">Guide</a></li><li><a class="tocitem" href="../pythoncall-reference/">Reference</a></li></ul></li><li><span class="tocitem">The Python module JuliaCall</span><ul><li class="is-active"><a class="tocitem" href>Guide</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Getting-started"><span>Getting started</span></a></li><li><a class="tocitem" href="#julia-deps"><span>Managing Julia dependencies</span></a></li><li><a class="tocitem" href="#julia-config"><span>Configuration</span></a></li><li><a class="tocitem" href="#py-multi-threading"><span>Multi-threading</span></a></li></ul></li><li><a class="tocitem" href="../juliacall-reference/">Reference</a></li></ul></li><li><span class="tocitem">Conversion</span><ul><li><a class="tocitem" href="../conversion-to-python/">Julia to Python</a></li><li><a class="tocitem" href="../conversion-to-julia/">Python to Julia</a></li></ul></li><li><a class="tocitem" href="../compat/">Compatibility Tools</a></li><li><a class="tocitem" href="../faq/">FAQ &amp; Troubleshooting</a></li><li><a class="tocitem" href="../releasenotes/">Release Notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">The Python module JuliaCall</a></li><li class="is-active"><a href>Guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Guide</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaPy/PythonCall.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaPy/PythonCall.jl/blob/main/docs/src/juliacall.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="The-Python-module-JuliaCall"><a class="docs-heading-anchor" href="#The-Python-module-JuliaCall">The Python module JuliaCall</a><a id="The-Python-module-JuliaCall-1"></a><a class="docs-heading-anchor-permalink" href="#The-Python-module-JuliaCall" title="Permalink"></a></h1><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>It&#39;s as simple as</p><pre><code class="language-bash hljs">pip install juliacall</code></pre><p>Developers may wish to clone the repo (https://github.com/JuliaPy/PythonCall.jl) directly and pip install the module in editable mode. You should add <code>&quot;dev&quot;:true, &quot;path&quot;:&quot;../..&quot;</code> to <code>pysrc/juliacall/juliapkg.json</code> to ensure you use the development version of PythonCall in conjunction with JuliaCall.</p><h2 id="Getting-started"><a class="docs-heading-anchor" href="#Getting-started">Getting started</a><a id="Getting-started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-started" title="Permalink"></a></h2><p>For interactive or scripting use, the simplest way to get started is:</p><pre><code class="language-python hljs">from juliacall import Main as jl</code></pre><p>This loads a single variable <code>jl</code> which represents the <code>Main</code> module in Julia, from which all of Julia&#39;s functionality is available:</p><pre><code class="language-python hljs">jl.println(&quot;Hello from Julia!&quot;)
# Hello from Julia!
x = jl.rand(range(10), 3, 5)
x._jl_display()
# 3×5 Matrix{Int64}:
#  8  1  7  0  6
#  9  2  1  4  0
#  1  8  5  4  0
import numpy
numpy.sum(x, axis=0)
# array([18, 11, 13,  8,  6], dtype=int64)</code></pre><p>In this example:</p><ul><li>We called the <code>jl.println</code> function to print a message.</li><li>We called the <code>jl.rand</code> function to generate an array of random integers. Note that the first argument is <code>range(10)</code> which is converted to <code>0:9</code> in Julia.</li><li>We called its special <code>_jl_display()</code> to show it using Julia&#39;s display mechanism.</li><li>We called the <code>numpy.sum</code> function to sum each column of <code>x</code>. This automatically converted <code>x</code> to a NumPy array. (We could have done <code>jl.sum(x, dims=1)</code> too.)</li></ul><p>If you are writing a package which uses Julia, then to avoid polluting the global <code>Main</code> namespace you instead should start with:</p><pre><code class="language-python hljs">import juliacall
jl = juliacall.newmodule(&quot;SomeName&quot;)</code></pre><p>Julia modules have a special method <code>seval</code> which will evaluate a given piece of code given as a string in the module. This is most frequently used to import modules:</p><pre><code class="language-python hljs">from array import array
jl.seval(&quot;using Statistics&quot;)
x = array(&#39;i&#39;, [1, 2, 3])
jl.mean(x)
# 2.0
y = array(&#39;i&#39;, [2,4,8])
jl.cor(x, y)
# 0.9819805060619657</code></pre><p>What to read next:</p><ul><li>The main functionality of this package is in <code>AnyValue</code> objects, which represent Julia objects, <a href="../juliacall-reference/#julia-wrappers">documented here</a>.</li><li>If you need to install Julia packages, <a href="#julia-deps">read here</a>.</li><li>When you call a Julia function, such as <code>jl.rand(...)</code> in the above example, its arguments are converted to Julia according to <a href="../conversion-to-julia/#py2jl-conversion">this table</a> and its return value is converted to Python according to <a href="../conversion-to-python/#jl2py-conversion">this table</a>.</li></ul><h2 id="julia-deps"><a class="docs-heading-anchor" href="#julia-deps">Managing Julia dependencies</a><a id="julia-deps-1"></a><a class="docs-heading-anchor-permalink" href="#julia-deps" title="Permalink"></a></h2><p>JuliaCall manages its Julia dependencies using <a href="https://github.com/JuliaPy/PyJuliaPkg">JuliaPkg</a>.</p><p>It will automatically download a suitable version of Julia if required.</p><p>A Julia environment is also created, activated and populated with any required packages. If you are in a virtual or Conda environment, the environment is put there. Otherwise a global environment is used at <code>~/.julia/environments/pyjuliapkg</code>.</p><p>If your project requires any Julia packages, or a particular version of Julia itself, then create a file called <code>juliapkg.json</code> in your package. For example: Here is an example:</p><pre><code class="language-json hljs">{
    &quot;julia&quot;: &quot;1.5&quot;,
    &quot;packages&quot;: {
        &quot;Example&quot;: {
            &quot;uuid&quot;: &quot;7876af07-990d-54b4-ab0e-23690620f79a&quot;,
            &quot;version&quot;: &quot;0.5, 0.6&quot;
        }
    }
}</code></pre><p>Alternatively you can use <code>add</code>, <code>rm</code>, etc. from JuliaPkg to edit this file.</p><p>See <a href="https://github.com/JuliaPy/PyJuliaPkg">JuliaPkg</a> for more details.</p><h2 id="julia-config"><a class="docs-heading-anchor" href="#julia-config">Configuration</a><a id="julia-config-1"></a><a class="docs-heading-anchor-permalink" href="#julia-config" title="Permalink"></a></h2><p>Some features of the Julia process, such as the optimization level or number of threads, may be configured in two ways:</p><ul><li>As an <code>-X</code> argument to Python, such as <code>-X juliacall-optlevel=3</code>; or</li><li>As an environment variable, such as <code>PYTHON_JULIACALL_OPTLEVEL=3</code>.</li></ul><table><tr><th style="text-align: left"><code>-X</code> option</th><th style="text-align: left">Environment Variable</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>-X juliacall-home=&lt;dir&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_BINDIR=&lt;dir&gt;</code></td><td style="text-align: left">The directory containing the julia executable.</td></tr><tr><td style="text-align: left"><code>-X juliacall-check-bounds=&lt;yes|no|auto&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_CHECK_BOUNDS=&lt;yes|no|auto&gt;</code></td><td style="text-align: left">Enable or disable bounds checking.</td></tr><tr><td style="text-align: left"><code>-X juliacall-compile=&lt;yes|no|all|min&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_COMPILE=&lt;yes|no|all|min&gt;</code></td><td style="text-align: left">Enable or disable JIT compilation.</td></tr><tr><td style="text-align: left"><code>-X juliacall-compiled-modules=&lt;yes|no&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_COMPILED_MODULES=&lt;yes|no&gt;</code></td><td style="text-align: left">Enable or disable incrementally compiling modules.</td></tr><tr><td style="text-align: left"><code>-X juliacall-depwarn=&lt;yes|no|error&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_DEPWARN=&lt;yes|no|error&gt;</code></td><td style="text-align: left">Enable or disable deprecation warnings.</td></tr><tr><td style="text-align: left"><code>-X juliacall-handle-signals=&lt;yes|no&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_HANDLE_SIGNALS=&lt;yes|no&gt;</code></td><td style="text-align: left">Enable or disable Julia signal handling.</td></tr><tr><td style="text-align: left"><code>-X juliacall-inline=&lt;yes|no&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_INLINE=&lt;yes|no&gt;</code></td><td style="text-align: left">Enable or disable inlining.</td></tr><tr><td style="text-align: left"><code>-X juliacall-min-optlevel=&lt;0|1|2|3&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_MIN_OPTLEVEL=&lt;0|1|2|3&gt;</code></td><td style="text-align: left">Optimization level.</td></tr><tr><td style="text-align: left"><code>-X juliacall-optimize=&lt;0|1|2|3&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_OPTIMIZE=&lt;0|1|2|3&gt;</code></td><td style="text-align: left">Minimum optimization level.</td></tr><tr><td style="text-align: left"><code>-X juliacall-procs=&lt;N|auto&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_PROCS=&lt;N|auto&gt;</code></td><td style="text-align: left">Launch N local worker process.</td></tr><tr><td style="text-align: left"><code>-X juliacall-startup-file=&lt;yes|no&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_STARTUP_FILE=&lt;yes|no&gt;</code></td><td style="text-align: left">Enable or disable your startup.jl file.</td></tr><tr><td style="text-align: left"><code>-X juliacall-sysimage=&lt;file&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_SYSIMAGE=&lt;file&gt;</code></td><td style="text-align: left">Use the given system image.</td></tr><tr><td style="text-align: left"><code>-X juliacall-threads=&lt;N|auto&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_THREADS=&lt;N|auto&gt;</code></td><td style="text-align: left">Launch N threads.</td></tr><tr><td style="text-align: left"><code>-X juliacall-warn-overwrite=&lt;yes|no&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_WARN_OVERWRITE=&lt;yes|no&gt;</code></td><td style="text-align: left">Enable or disable method overwrite warnings.</td></tr><tr><td style="text-align: left"><code>-X juliacall-autoload-ipython-extension=&lt;yes|no&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_AUTOLOAD_IPYTHON_EXTENSION=&lt;yes|no&gt;</code></td><td style="text-align: left">Enable or disable IPython extension autoloading.</td></tr><tr><td style="text-align: left"><code>-X juliacall-heap-size-hint=&lt;N&gt;</code></td><td style="text-align: left"><code>PYTHON_JULIACALL_HEAP_SIZE_HINT=&lt;N&gt;</code></td><td style="text-align: left">Hint for initial heap size in bytes.</td></tr></table><h2 id="py-multi-threading"><a class="docs-heading-anchor" href="#py-multi-threading">Multi-threading</a><a id="py-multi-threading-1"></a><a class="docs-heading-anchor-permalink" href="#py-multi-threading" title="Permalink"></a></h2><p>From v0.9.22, JuliaCall supports multi-threading in Julia and/or Python, with some caveats.</p><p>Most importantly, you can only call Python code while Python&#39;s <a href="https://docs.python.org/3/glossary.html#term-global-interpreter-lock">Global Interpreter Lock (GIL)</a> is locked by the current thread. You can use JuliaCall from any Python thread, and the GIL will be locked whenever any JuliaCall function is used. However, to leverage the benefits of multi-threading, you can unlock the GIL while executing any Julia code that does not interact with Python.</p><p>The simplest way to do this is using the <code>_jl_call_nogil</code> method on Julia functions to call the function with the GIL unlocked.</p><pre><code class="language-python hljs">from concurrent.futures import ThreadPoolExecutor, wait
from juliacall import Main as jl
pool = ThreadPoolExecutor(4)
fs = [pool.submit(jl.Libc.systemsleep._jl_call_nogil, 5) for _ in range(4)]
wait(fs)</code></pre><p>In the above example, we call <code>Libc.systemsleep(5)</code> on four threads. Because we called it with <code>_jl_call_nogil</code>, the GIL was unlocked, allowing the threads to run in parallel, taking about 5 seconds in total.</p><p>If we did not use <code>_jl_call_nogil</code> (i.e. if we did <code>pool.submit(jl.Libc.systemsleep, 5)</code>) then the above code will take 20 seconds because the sleeps run one after another.</p><p>It is very important that any function called with <code>_jl_call_nogil</code> does not interact with Python at all unless it re-locks the GIL first, such as by using <a href="../pythoncall-reference/#PythonCall.GIL.@lock">PythonCall.GIL.@lock</a>.</p><p>You can also use <a href="../pythoncall/#jl-multi-threading">multi-threading from Julia</a>.</p><h3 id="Caveat:-Julia&#39;s-task-scheduler"><a class="docs-heading-anchor" href="#Caveat:-Julia&#39;s-task-scheduler">Caveat: Julia&#39;s task scheduler</a><a id="Caveat:-Julia&#39;s-task-scheduler-1"></a><a class="docs-heading-anchor-permalink" href="#Caveat:-Julia&#39;s-task-scheduler" title="Permalink"></a></h3><p>If you try the above example with a Julia function that yields to the task scheduler, such as <code>sleep</code> instead of <code>Libc.systemsleep</code>, then you will likely experience a hang.</p><p>In this case, you need to yield back to Julia&#39;s scheduler periodically to allow the task to continue. You can use the following pattern instead of <code>wait(fs)</code>:</p><pre><code class="language-python hljs">jl_yield = getattr(jl, &quot;yield&quot;)
while True:
  # yield to Julia&#39;s task scheduler
  jl_yield()
  # wait for up to 0.1 seconds for the threads to finish
  state = wait(fs, timeout=0.1)
  # if they finished then stop otherwise try again
  if not state.not_done:
    break</code></pre><p>Set the <code>timeout</code> parameter smaller to let Julia&#39;s scheduler cycle more frequently.</p><p>Future versions of JuliaCall may provide tooling to make this simpler.</p><h3 id="py-multi-threading-signal-handling"><a class="docs-heading-anchor" href="#py-multi-threading-signal-handling">Caveat: Signal handling</a><a id="py-multi-threading-signal-handling-1"></a><a class="docs-heading-anchor-permalink" href="#py-multi-threading-signal-handling" title="Permalink"></a></h3><p>We recommend setting <a href="#julia-config"><code>PYTHON_JULIACALL_HANDLE_SIGNALS=yes</code></a> before importing JuliaCall with multiple threads.</p><p>This is because Julia intentionally causes segmentation faults as part of the GC safepoint mechanism. If unhandled, these segfaults will result in termination of the process. See discussion <a href="https://github.com/JuliaPy/PythonCall.jl/issues/219#issuecomment-1605087024">here</a> for more information.</p><p>Note however that this interferes with Python&#39;s own signal handling, so for example Ctrl-C will not raise <code>KeyboardInterrupt</code>.</p><p>Future versions of JuliaCall may make this the default behaviour when using multiple threads.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../pythoncall-reference/">« Reference</a><a class="docs-footer-nextpage" href="../juliacall-reference/">Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 19 August 2025 17:47">Tuesday 19 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
